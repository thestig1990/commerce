{% extends "auctions/layout.html" %}

{% block body %}

{% if user.is_authenticated %}
    {% if listing not in user.watchlist.all %}
        <a href="{% url 'add_to_watchlist' listing.title%}" class="badge badge-secondary" style="margin-bottom: 18px;">
            Add to Wathlist
        </a>
    {% else %}
        <a href="{% url 'remove_from_watchlist' listing.title %}" class="badge badge-warning" style="margin-bottom: 18px;">
            Remove from Watchlist
        </a>
    {% endif %}
{% else %}
    <div class="alert alert-info" role="alert">
        Log in to manage your Watchlist!
    </div>
{% endif %}


{% if messages %}
    <ul class="list-group" style="margin: 0 0 10px 0">
    {% for message in messages %}
        <li class="list-group-item list-group-item-info">{{ message }}</li>
    {% endfor %}
    </ul>
{% endif %}


<div class="card mb-3 bg-light">
    {% if listing.image %}
        <img 
        src="{{ listing.image }}"
        class="card-img-top"
        alt="Auction Item"
        style="width: 200px; height: 200px;">
    {% endif %}

    <div class="card-body">
        <h5 class="card-title">{{ listing.title }}</h5>
        <span class="badge bg-primary">Current Bid: {{ listing.starting_bid }}$</span>
        <br></br>
        <h6 class="card-detail">Detail:</h6>
        <p class="card-text">{{ listing.description|linebreaksbr }}</p>
    </div>
</div>

{% endblock %}
